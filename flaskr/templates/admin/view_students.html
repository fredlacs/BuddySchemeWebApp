{% extends "shared/user_screen_layout.html" %}

{% block content_block %}



<!--h1>  </h1-->
<div class="text-center">
    Search By Name:
    <input type='text' id='nameFilt' onkeyup='return filterName()'/>
    <br />
    Filter:     
    <input type='radio' id='all' name='filter' onclick='return filterall()' checked ='checked' />All
    <input type='radio' id='over' name='filter' onclick='return filterTors()' />Mentors
    <input type='radio' id='out' name='filter' onclick='return filterTees()' />Mentees
</div>


<table class="table table-striped table-hover" id='table'>
    <thead>
        <tr>
            <th scope="col" class="text-center">K Number</th>
            <th scope="col">First Name</th>
            <th scope="col">Last Name</th>
            <th scope="col"><button id="mentorBtn" onclick='return filterMentor()'>Is Mentor?</button></th> <!-- best way??? -->
            <th scope="col" class="text-center">Action</th>
        </tr>
    </thead>
    <tbody id='tbody'>
        {% for student in data %}   
        <tr>
            <td>{{student.k_number}}</td>
            <td>{{student.first_name}}</td>
            <td>{{student.last_name}}</td>
            <td>{% if student.is_mentor %} {{"Yes"}} {% else %} {{"No"}}{% endif %}</td>
    <form method="POST" action={{url_for("view_student_details")}}>
        <input type="hidden" name="knum" value="{{student.k_number}}"></input>
        <td><input type="submit" class="btn btn-lg btn-block btn-primary" value="More Details"></input></td>
    </form>
</tr>        
       {% endfor %}
</tbody>

</table>

<script>
    function ele(id) {
        return      document.getElementById(id)
    }

    function filterName() {
        var reg = new RegExp(".*" + ele("nameFilt").value + ".*", "i")
        var tb = ele('tbody')
        for (var i = 0, row; row = tb.rows[i]; i++) {
            if (reg.test(row.cells[1].innerHTML + " " + row.cells[2].innerHTML)) {   // need to impl show/no show if other filter on 
                row.style.display = ''
            } else {
                row.style.display = 'none'
            }
        }
    }


</script>
{% endblock content_block %}

